<!-- app/views/forebears/index.html.erb -->

<h1>Name Data</h1>

<%= form_with url: forebears_path, method: :get, local: true do |form| %>
  <div>
    <%= form.label :name, "Enter a name:" %>
    <%= form.text_field :name, value: @name %>
  </div>
  <div>
    <%= form.submit "Search" %>
  </div>
<% end %>

<% if @name_data %>
  <% if @name_data['error'] %>
    <p>Error: <%= @name_data['error'] %></p>
  <% else %>
    <h2>Results for "<%= @name %>":</h2>
    <ul>
      <% @name_data.each do |key, value| %>
        <li><strong><%= key.capitalize %>:</strong> <%= value %></li>
      <% end %>
    </ul>
  <% end %>
<% end %>
